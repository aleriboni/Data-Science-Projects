<!doctype html>

<html lang="it">
<head>
  <meta charset="utf-8">

  <title>DV Project - Infografica 2</title>
  <meta name="description" content="DV Project">
  <meta name="author" content="">

  <link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      }
      #chord {
        width: 100%;
        height: 900px;
      }
      #container {
         width: 100%;
         height: 10%;
      }
      #container img {
         width: 400px;
      }
      #radar {
        width: 100%;
        height: 900px;
      }
      #viz {
        margin-top: 20px;
        width: 100%;
        height: 100%;

      }
      #text_container {
        width: 933px;
        margin: auto;
        margin-top: 100px;
        margin-bottom: 100px;
        @media screen and (max-width: 933px) {padding: 0 20px);}
      }
</style>


</head>

<body>
  <script src="https://www.amcharts.com/lib/4/core.js"></script>
  <script src="https://www.amcharts.com/lib/4/charts.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/moonrisekingdom.js"></script>
  <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

  <div id="radar">
    <script type="text/javascript">


        am4core.useTheme(am4themes_moonrisekingdom);
        am4core.useTheme(am4themes_animated);



        var ritardi = {
                "ABRUZZO" : [
                  ["CHIETI", 2.0,3.0,3.0,4.0,3.0,2.0,3.0,3.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,2.0,3.0,3.0,2.0,2.0,3.0,2.0,3.0,2.0,3.0,3.0,3.5,3.0,3.0,2.0,3.0],
                  ["L'AQUILA", 1.0,2.0,2.0,2.0,2.0,1.0,2.0,3.0,1.0,2.0,2.0,1.0,1.0,2.0,2.0,2.0,2.0,1.0,1.0,1.0,2.0,2.0,2.0,1.0,2.0,1.0,1.0,2.0,2.0,2.0,2.0],
                  ["PESCARA", 2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["TERAMO", 2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0]
                ],
                "BASILICATA": [
                  ["MATERA", 7.0,12.0,7.0,11.0,7.0,4.0,7.0,5.0,8.0,5.0,5.0,5.0,7.0,4.0,7.0,3.0,5.0,5.0,4.5,3.0,5.0,3.0,4.0,6.0,7.5,4.0,2.0,3.0,5.5,5.0,3.0],
                  ["POTENZA", 2.0,3.0,2.0,3.0,5.0,2.0,3.0,3.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,10.0,3.0,2.0,2.0,2.0,3.0,2.0],
                ],
                "CALABRIA": [
                  ["CATANZARO", 2.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["COSENZA", 2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["CROTONE", 3.0,11.0,5.5,6.0,5.0,3.0,5.0,7.0,6.0,6.0,6.0,4.0,2.0,5.0,5.0,8.0,8.0,5.0,3.0,2.0,8.5,4.0,3.0,6.0,7.0,5.0,3.0,6.0,7.0,5.0,5.0],
                  ["REGGIO CALABRIA", 2.0,3.0,2.0,3.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0],
                  ["VIBO VALENTIA", 1.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,4.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,1.0,2.0,1.0,2.0,1.0,2.0,1.0,2.0,1.0,2.0,3.0,2.0,2.0],
                ],
                "CAMPANIA": [
                  ["AVELLINO", 4.0,4.0,4.0,3.0,4.0,3.0,3.0,2.5,4.0,3.0,3.0,3.0,2.0,2.0,5.5,2.0,3.0,4.0,3.0,3.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,3.5],
                  ["BENEVENTO", 2.0,3.5,4.5,5.0,2.5,2.0,3.0,4.0,3.0,3.0,5.0,2.0,2.0,3.5,4.0,3.0,3.0,4.0,2.0,3.0,3.0,3.0,4.0,4.0,3.0,3.0,2.0,5.0,3.0,3.0,3.0],
                  ["CASERTA", 2.0,3.0,4.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,2.0,3.0,2.0,3.0,3.0,3.0,2.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,2.0,3.0,3.0],
                  ["NAPOLI", 1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,2.0,2.0,2.0,1.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["SALERNO", 2.0,2.0,3.0,2.5,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                ],
                "EMILIA ROMAGNA": [
                  ["BOLOGNA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["FERRARA", 1.0,2.0,2.0,2.0,2.0,2.0,2.0,4.0,2.0,2.0,2.0,2.0,1.0,2.0,2.5,4.0,3.0,3.0,2.0,1.0,3.0,3.0,2.0,3.5,3.0,2.0,3.0,3.0,2.0,4.0,2.0],
                  ["FORLI-CESENA", 2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,3.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,3.0,2.0,1.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,2.0],
                  ["MODENA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["PARMA", 1.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,3.0,2.0,3.0,5.0],
                  ["PIACENZA", 2.0,2.0,2.0,2.0,2.0,1.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,4.0],
                  ["RAVENNA", 2.0,2.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,4.0,3.0,2.5,3.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0],
                  ["REGGIO EMILIA", 3.0,3.0,3.0,2.0,2.0,2.0,3.0,5.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0,4.0,2.0,2.0,4.0,3.0,4.0,6.0],
                  ["RIMINI", 1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0]
                ],
                "FRIULI VENEZIA GIULIA": [
                 ["GORIZIA", 1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0],
                 ["PORDENONE", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,1.0,1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,1.0,1.0],
                 ["TRIESTE", 1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.0,0.0,0.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,1.0,1.0,1.0],
                 ["UDINE", 1.0,2.0,2.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,2.0,1.0,2.0,2.0,1.0,1.0,2.0,2.0,1.0,2.0,2.0],
                ],
                "LAZIO": [
                 ["FROSINONE", 1.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.5,1.0,2.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,2.0],
                 ["LATINA", 1.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,2.0,3.0,2.0,3.0,1.0,2.0,2.0,2.0,3.0,2.0,1.0,2.0,2.0,2.0,3.0,2.0,1.0,2.0,1.0,2.0,2.0,2.0,4.0],
                 ["RIETI", 1.0,2.0,2.0,2.0,2.0,1.0,2.0,3.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,2.5,2.0,2.0,2.0,2.0,4.0,4.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0],
                 ["ROMA", 1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,2.0,2.0,2.0,2.0],
                 ["VITERBO", 1.0,1.0,1.0,2.0,2.0,1.0,1.0,2.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,2.0,2.0],
                ],
                "LIGURIA": [
                  ["GENOVA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,2.0,2.0,3.0,2.0,2.0,3.0],
                  ["IMPERIA", 4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,8.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0],
                  ["LA SPEZIA", 2.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0],
                  ["SAVONA", 3.0,3.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,4.0,4.0,4.0,4.0,3.0,3.0,5.0,3.0,3.0,3.0,4.0,3.0,3.0,4.0,3.0,4.0,2.0,2.0,4.0,3.0,3.0,4.0],
                ],
                "LOMBARDIA":[
                  ["BERGAMO", 2.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0],
                  ["BRESCIA", 3.0,3.0,3.0,3.0,3.0,4.0,3.0,4.0,4.0,3.0,4.0,3.0,3.0,4.0,4.0,4.0,4.0,4.0,4.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,4.0,3.0,3.0],
                  ["COMO", 2.0,2.0,2.0,2.0,2.0,1.0,2.0,3.0,2.0,3.0,3.0,2.0,1.0,2.0,2.0,3.0,3.0,3.0,1.0,1.0,2.0,3.0,2.0,2.0,3.0,2.0,1.0,2.0,2.0,2.0,2.0],
                  ["CREMONA", 4.0,4.0,3.0,3.0,3.0,3.0,5.0,5.5,4.0,3.0,4.0,3.0,3.0,3.0,3.0,4.0,4.0,3.0,2.0,2.0,3.0,3.0,6.0,4.0,6.0,2.0,4.0,4.0,4.0,4.0,6.0],
                  ["LECCO", 3.0,4.0,4.0,4.0,4.0,3.0,4.0,5.0,5.0,4.0,3.0,3.0,3.0,4.0,4.0,3.0,4.0,4.0,3.0,2.0,4.0,4.0,3.0,4.0,5.0,4.0,3.0,4.0,4.0,4.0,4.0],
                  ["LODI", 2.0,3.0,3.0,3.0,2.0,2.0,3.0,4.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,4.0],
                  ["MANTOVA", 2.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,2.0],
                  ["MILANO", 2.0,3.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0],
                  ["MONZA BRIANZA", 2.0,3.0,3.0,3.0,3.0,2.0,3.0,4.0,3.0,4.0,3.0,3.0,2.0,3.0,3.0,3.0,4.0,4.0,3.0,3.0,4.0,4.0,4.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0],
                  ["PAVIA", 3.0,4.0,3.0,4.0,3.0,2.0,3.0,4.0,4.0,4.0,3.0,3.0,2.0,3.0,3.0,4.0,3.0,3.0,3.0,3.0,4.0,4.0,5.0,4.0,4.0,3.0,2.0,3.0,4.0,4.0,5.0],
                  ["SONDRIO", 3.0,3.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,3.0,2.0,3.0,1.0,2.0,2.0,2.0,2.0,4.0,2.0,1.0,2.0,2.0,1.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,2.0],
                  ["VARESE", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0],
                ],
                "MARCHE":[
                  ["ANCONA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["ASCOLI PICENO", 2.0,4.0,3.0,4.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,3.0,2.0,2.0,4.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0],
                  ["FERMO", 4.0,5.0,3.0,5.0,3.0,4.0,3.0,4.0,2.0,3.0,3.0,2.0,3.0,2.0,3.0,3.0,2.0,3.0,2.0,3.0,4.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0,2.0],
                  ["MACERATA", 2.0,3.0,2.0,3.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["PESARO E URBINO", 2.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,4.0,3.0,3.0,2.0,4.0,2.0,2.0,4.0,2.0,3.0,3.0],
                ],
                "MOLISE": [
                  ["CAMPOBASSO", 3.0,4.0,5.0,10.0,6.5,3.0,5.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0],
                  ["ISERNIA", 6.0,6.0,11.5,68.0,19.0,6.5,8.0,7.0,3.0,5.0,4.0,4.0,4.0,3.0,3.0,4.0,4.0,6.5,4.0,4.0,3.0,4.5,4.0,3.0,5.0,3.5,3.0,3.0,2.0,3.0,3.0],
                ],
                "PIEMONTE": [
                   ["ALESSANDRIA", 2.0,3.0,2.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,3.5,3.0,3.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0],
                   ["ASTI", 1.0,1.0,2.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0],
                   ["BIELLA", 1.0,0.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,0.0,1.0,0.0,1.0,0.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,1.0],
                   ["CUNEO", 1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,4.0,1.0,1.0,2.0,3.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0],
                   [ "NOVARA", 2.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,3.0,2.0,2.0,2.0,4.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0],
                   ["TORINO", 1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                   ["VERBANO-CUSIO-OSSOLA", 5.0,3.0,5.0,5.0,4.0,5.0,5.0,5.0,4.0,4.0,5.0,4.0,4.0,6.0,4.0,5.0,5.0,5.0,4.0,5.0,6.0,6.0,7.0,5.0,6.0,4.0,5.0,5.0,5.0,6.0,5.0],
                   ["VERCELLI", 1.0,2.0,2.0,2.0,3.0,1.0,3.0,2.0,3.0,2.0,2.0,3.0,1.0,3.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,2.0,3.0,4.0,3.0,2.0,2.0,3.0,3.0,2.0,4.0],
                  ],
                "PUGLIA": [
                  ["BARI", 2.0,2.0,3.0,13.0,4.0,3.0,3.0,3.0,2.0,3.0,3.0,2.0,2.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0,2.0,3.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,2.0,3.0],
                  ["BARLETTA-ANDRIA-TRANI", 3.0,4.0,4.0,13.0,6.0,4.0,5.0,4.0,3.0,4.0,4.0,4.0,4.0,4.0,4.0,3.0,4.0,4.0,4.0,3.0,3.0,4.0,3.0,3.0,5.0,3.0,5.0,4.0,4.0,3.0,3.0],
                  ["BRINDISI", 3.0,3.0,3.0,24.0,5.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,5.0,3.0,3.0,3.0,3.0,3.0,4.0,3.0,2.0,3.0,3.0,3.0,3.0],
                  ["FOGGIA", 3.0,4.0,4.0,8.0,6.0,3.0,5.0,4.0,4.0,4.0,4.0,3.0,3.0,5.0,5.0,4.0,4.0,5.0,4.0,3.0,4.0,4.0,3.0,4.0,4.0,4.0,4.0,4.0,4.0,4.0,4.0],
                  ["LECCE", 2.0,2.0,2.0,28.0,4.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["TARANTO", 2.0,2.0,2.5,11.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,1.5,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,3.0,2.0,1.5,2.0,2.0,2.0,2.0],
                  ],
                "SARDEGNA":[
                  ["CAGLIARI", 2.0,1.0,2.0,1.0,2.0,1.0,1.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,1.0,1.0,2.0,2.0,2.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0],
                  ["CARBONIA IGLESIAS", 2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,1.0,3.5,1.0,2.0,1.0,1.0,1.5,1.0,1.0,1.0,1.0,2.0,1.0,1.0],
                  ["MEDIO CAMPIDANO", 3.0,2.0,2.0,2.0,2.0,1.0,1.0,2.0,1.0,1.0,2.0,1.5,1.0,1.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,1.5,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0],
                  ["NUORO", 2.0,2.5,1.5,1.5,1.0,2.0,2.0,2.0,6.0,2.0,2.5,2.0,2.0,2.5,3.5,2.0,1.0,1.5,2.0,2.0,2.0,1.0,2.5,2.0,3.0,2.0,3.0,1.5,2.0,4.0,2.0],
                  ["OLBIA-TEMPIO", 2.0,1.0,1.0,1.0,17.0,2.0,1.0,1.0,2.0,2.0,1.0,3.0,6.0,2.0,2.0,3.0,1.0,2.0,2.0,3.0,3.0,1.0,2.0,3.0,4.0,2.0,2.0,1.0,1.0,2.0,3.0],
                  ["ORISTANO", 4.0,3.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.5,3.0,2.5,2.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,2.0],
                  ["SASSARI", 2.0,2.0,1.0,2.0,2.0,3.0,3.0,2.0,6.0,3.0,2.0,3.0,4.0,4.0,4.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,4.0,4.0,1.0,2.0,2.0,2.0,3.0,3.0],
                  ["SUD SARDEGNA", 2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                ],
                "SICILIA":[
                 ["AGRIGENTO", 2.0,3.0,2.0,4.0,5.5,2.0,3.0,3.0,4.0,2.0,4.0,2.0,2.0,3.0,2.0,3.0,2.0,3.0,1.5,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,4.0,9.0,4.0,5.0],
                 ["CALTANISSETTA", 1.0,2.0,2.0,4.0,8.0,7.0,4.0,2.0,2.0,1.0,3.0,2.0,1.0,3.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,3.0,2.0,3.0,2.0],
                 ["CATANIA", 2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,1.0,1.0,2.0,3.0,2.0,2.0],
                 ["ENNA", 1.0,1.0,1.0,18.0,54.5,8.0,2.0,1.0,1.0,1.0,2.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,0.0,1.0,1.0,1.0,1.0,1.0,5.5,1.0,3.5,1.0],
                 ["MESSINA", 2.0,3.0,4.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,2.0,3.0,2.0,2.0,3.0,3.0,3.0,2.0,4.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,4.0,3.0,2.0],
                 ["PALERMO", 1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0],
                 ["RAGUSA", 1.0,1.0,3.0,2.0,2.0,4.0,3.0,5.0,3.0,1.0,4.0,6.0,2.0,4.0,3.0,2.0,1.0,5.0,7.0,9.0,3.0,2.0,2.0,1.0,1.0,1.0],
                 ["SIRACUSA", 2.0,1.0,2.0,3.0,2.0,4.0,1.0,2.0,1.0,3.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,2.0,1.0,2.0,1.0,1.0,2.0,2.0,2.0,1.0,2.0,1.0,1.0,1.0,1.0],
                 ["TRAPANI", 13.0,4.0,5.0,7.0,7.0,4.0,3.0,5.0,4.0,4.0,4.0,4.0,4.0,5.0,4.0,4.0,6.0,4.0,3.0,3.0,5.0,3.0,5.0,7.0,4.0,5.0,5.0,4.0,4.0,3.0,4.0],
                ],
                "TOSCANA": [
                  ["AREZZO", 2.0,2.0,2.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,2.0,3.0,4.0,3.0],
                  ["FIRENZE", 2.0,2.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0],
                  ["GROSSETO", 2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0],
                  ["LIVORNO", 2.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,1.0,2.0,1.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,1.0,2.0,2.0,1.0,1.0,2.0,2.0,2.0],
                  ["LUCCA", 2.0,3.0,3.0,3.0,2.0,2.0,4.0,4.0,4.0,3.0,4.0,3.0,2.0,3.0,3.0,3.0,4.0,4.0,2.0,2.0,2.0,3.5,4.0,3.0,3.0,3.0,2.0,3.0,3.0,4.0,4.0],
                  ["MASSA-CARRARA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.5,3.0,2.0,2.0,2.0,2.0,3.0,3.0,4.0,3.0,2.0,2.0,2.0,3.0,3.0,3.0],
                  ["PISA", 1.0,2.0,2.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,1.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0],
                  ["PISTOIA", 3.0,4.0,4.0,4.0,4.0,3.0,5.0,4.0,4.0,4.0,4.0,4.0,3.0,4.0,3.0,5.0,4.0,8.0,3.0,2.5,3.0,6.0,4.0,3.0,3.0,3.0,5.0,4.0,3.0,5.0,6.0],
                  ["PRATO", 3.0,3.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,4.0,3.0,3.0,3.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,4.0],
                  ["SIENA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.5,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0],
                ],
                "TRENTINO ALTO ADIGE": [
                  ["BOLZANO", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["TRENTO", 2.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,3.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,2.0,2.0,3.0,2.0,2.0,3.0],
                ],
                "UMBRIA": [
                  ["PERUGIA", 3.0,4.0,2.0,6.0,2.0,3.0,3.0,4.0,3.0,3.0,4.0,3.0,2.0,4.0,3.0,4.0,3.0,4.0,2.0,2.0,3.0,2.0,2.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,3.0],
                  ["TERNI", 4.0,3.0,4.0,4.0,2.0,2.0,4.0,4.0,4.0,4.0,3.0,3.0,3.0,3.0,4.0,3.0,4.0,4.0,3.0,5.0,3.0,5.0,4.0,4.5,3.0,2.0,3.0,3.0,3.0,5.0,4.0],
                ],
                "VALLE D'AOSTA": [
                  ["AOSTA", 3.0,4.0,2.0,3.0,3.0,3.0,3.0,2.0,4.0,4.0,2.0,4.0,3.0,4.0,4.0,4.0,3.0,3.0,2.0,2.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,5.0,3.0],
                ],
                "VENETO":[
                  ["BELLUNO", 2.0,2.0,2.0,1.0,2.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,2.0,1.0,1.0,1.0,1.0],
                  ["PADOVA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,3.0,3.0,2.0,2.0,3.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0],
                  ["ROVIGO", 1.0,2.0,2.0,2.0,2.0,2.0,4.0,3.0,3.0,2.0,2.0,2.0,2.0,3.0,4.0,3.0,3.0,3.0,3.0,2.0,3.0,3.0,2.0,2.0,3.0,2.0,2.0,3.0,3.5,4.0,3.0],
                  ["TREVISO", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                  ["VENEZIA", 2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,3.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0],
                  ["VERONA", 2.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,4.0,3.0,3.0,2.0,2.0,3.0,4.0,3.0,4.0,4.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,3.0,4.0,4.0,3.0],
                  ["VICENZA", 2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,3.0,3.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0,2.0],
                ],
        }

        var startDay = 1;
        var endDay = 31;
        var currentDay = 1;
        var colorSet = new am4core.ColorSet();

        var chart = am4core.create("radar", am4charts.RadarChart);
        chart.numberFormatter.numberFormat = "#|0";
        chart.hiddenState.properties.opacity = 0;

        chart.startAngle = 270 - 180;
        chart.endAngle = 270 + 180;

        //chart.padding(5,15,5,10)
        chart.radius = am4core.percent(65);
        chart.innerRadius = am4core.percent(30);

        var firstContainer =  chart.createChild(am4core.Container);
        firstContainer.layout = "absolute";
        firstContainer.toBack();
        firstContainer.paddingBottom = 10;
        firstContainer.width = am4core.percent(100);

        var title = firstContainer.createChild(am4core.Label);
        title.text = "Ritardi mediani per giorno e per provincia";
        //axisTitle.fontWeight = 400;
        //axisTitle.fontHeight = 600;
        title.fontSize = 23;
        title.fill = am4core.color("#323B34");
        title.align = "center";
        //axisTitle.paddingRight = 30;
        title.paddingBottom = 0;

        // day label goes in the middle
        var dayLabel_min = chart.radarContainer.createChild(am4core.Label);
        dayLabel_min.horizontalCenter = "middle";
        dayLabel_min.verticalCenter = "middle";
        dayLabel_min.paddingBottom= 190;
        dayLabel_min.fill = am4core.color("#000000");
        dayLabel_min.fontSize = 10;
        dayLabel_min.text = "minuti";

        var dayLabel_min_0 = chart.radarContainer.createChild(am4core.Label);
        dayLabel_min_0.horizontalCenter = "middle";
        dayLabel_min_0.verticalCenter = "middle";
        dayLabel_min_0.paddingBottom= 208;
        dayLabel_min_0.fill = am4core.color("#000000");
        dayLabel_min_0.fontSize = 10;
        dayLabel_min_0.text = "0";

        var dayLabel = chart.radarContainer.createChild(am4core.Label);
        dayLabel.horizontalCenter = "middle";
        dayLabel.verticalCenter = "middle";
        dayLabel.fill = am4core.color("#163B80");
        dayLabel.fontSize = 15;
        dayLabel.text = String(currentDay) + " Gennaio 2019";

        // zoomout button
        var zoomOutButton = chart.zoomOutButton;
        zoomOutButton.dx = 0;
        zoomOutButton.dy = 0;
        zoomOutButton.marginBottom = 15;
        zoomOutButton.parent = chart.rightAxesContainer;

        // category axis
        var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());
        categoryAxis.renderer.grid.template.location = 0;
        categoryAxis.dataFields.category = "provincia";

        var categoryAxisRenderer = categoryAxis.renderer;
        var categoryAxisLabel = categoryAxisRenderer.labels.template;
        categoryAxisLabel.location = 0.5;
        categoryAxisLabel.radius = 28;
        categoryAxisLabel.relativeRotation = 90;


        categoryAxisRenderer.fontSize = 8;
        categoryAxisRenderer.minGridDistance = 10;
        categoryAxisRenderer.grid.template.radius = -25;
        categoryAxisRenderer.grid.template.strokeOpacity = 0.05;
        categoryAxisRenderer.grid.template.interactionsEnabled = false;

        categoryAxisRenderer.ticks.template.disabled = true;
        categoryAxisRenderer.axisFills.template.disabled = true;
        categoryAxisRenderer.line.disabled = true;

        categoryAxisRenderer.tooltipLocation = 0.5;
        categoryAxis.tooltip.defaultState.properties.opacity = 0;

        // value axis
        var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());
        valueAxis.min = 0.1;
        valueAxis.max = 68;
        valueAxis.fontSize = 10;
        valueAxis.strictMinMax = true;
        valueAxis.tooltip.defaultState.properties.opacity = 0;
        valueAxis.tooltip.animationDuration = 0;
        valueAxis.cursorTooltipEnabled = true;
        valueAxis.zIndex = 10;

        // axis break
        var axisBreak = valueAxis.axisBreaks.create();
        axisBreak.startValue = 15;
        axisBreak.endValue = 60;
        axisBreak.breakSize = 0.05;

        // make break expand on hover
        var hoverState2 = axisBreak.states.create("hover");
        hoverState2.properties.breakSize = 1;
        hoverState2.properties.opacity = 0.1;
        hoverState2.transitionDuration = 1500;

        axisBreak.defaultState.transitionDuration = 1000;

        var valueAxisRenderer = valueAxis.renderer;
        valueAxisRenderer.axisFills.template.disabled = true;
        valueAxisRenderer.ticks.template.disabled = true;
        valueAxisRenderer.minGridDistance = 20;
        valueAxisRenderer.grid.template.strokeOpacity = 0.05;

        // series
        var series = chart.series.push(new am4charts.RadarColumnSeries());
        series.columns.template.width = am4core.percent(90);
        series.columns.template.strokeOpacity = 0;
        series.dataFields.valueY = "value" + currentDay;
        series.dataFields.categoryX = "provincia";
        series.tooltipText = "Provincia: {categoryX}\nRitardo mediano:{valueY.value} min";

        // this makes columns to be of a different color, depending on value
        series.heatRules.push({ target: series.columns.template, property: "fill", minValue: 0, maxValue: 70, min: am4core.color("#A7604E"), max: am4core.color("#8C260F"), dataField: "valueY" });

        // cursor
        var cursor = new am4charts.RadarCursor();
        chart.cursor = cursor;
        cursor.behavior = "zoomX";

        cursor.xAxis = categoryAxis;
        cursor.innerRadius = am4core.percent(40);
        cursor.lineY.disabled = true;

        cursor.lineX.fillOpacity = 0.2;
        cursor.lineX.fill = am4core.color("#000000");
        cursor.lineX.strokeOpacity = 0;
        cursor.fullWidthLineX = true;



        chart.events.on("ready", function () {
            createSlider();
        })

        var daySlider;

        var playButton;

        function createSlider() {

            var daySliderContainer = firstContainer.createChild(am4core.Container);
            daySliderContainer.layout = "vertical";
            daySliderContainer.padding(0, 0, 0, 0);
            daySliderContainer.align = "center"
            daySliderContainer.paddingTop = 40;
            daySliderContainer.paddingBottom = 50;
            daySliderContainer.width = 660;

            var topContainer = daySliderContainer.createChild(am4core.Container);
            //topContainer.layout = "left";
            topContainer.toBack();
            topContainer.paddingTop =0;
            topContainer.width = am4core.percent(50);


            var top2Container = daySliderContainer.createChild(am4core.Container);
            //top2Container.layout = "right";
            top2Container.toBack();
            top2Container.paddingBottom = 20;
            top2Container.width = am4core.percent(100);

            var axisTitle = top2Container.createChild(am4core.Label);
            axisTitle.text = "Scorri per cambiare il giorno o premi il tasto play:";
            axisTitle.fontSize = 15;
            axisTitle.dy = 14;
            axisTitle.fill = am4core.color("#323B34");
            axisTitle.align = "center";
            axisTitle.paddingBottom = 10;

            var top3Container = top2Container.createChild(am4core.Container);
            top3Container.layout = "center";
            top3Container.toBack();
            top3Container.paddingTop = 60;
            top3Container.width = am4core.percent(100);
            top3Container.paddingBottom = 20;


            playButton = top2Container.createChild(am4core.PlayButton);
            playButton.dx = -80;
            playButton.align = "right";
            playButton.hoverOnFocus = true;
            //playButton.dx = -40;
            //playButton.stroke = am4core.color("#364D70");
            playButton.background.fill = am4core.color("#839fbb");
            playButton.events.on("toggled", function (event) {
                if (event.target.isActive) {

                    play();
                }
                else {
                    stop();
                }
            })

            daySlider = top3Container.createChild(am4core.Slider);
            daySlider.stroke = am4core.color("#364D70");
            daySlider.background.fill = am4core.color("#839fbb");
            //playButton.dy = 80;
            daySlider.background.fillOpacity = .9
            daySlider.showSystemTooltip = true;
            daySlider.readerTitle = "Scorri per cambiare il giorno";
            daySlider.hoverOnFocus = true;


            var label_1 = top3Container.createChild(am4core.Label);
            label_1.text = "01 | 02 | 03 | 04 | 05 | 06 | 07 | 08 | 09 | 10 | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 | 24 | 25 | 26 | 27 | 28 | 29 | 30 | 31 ";
            //label_1.width = 675;
            label_1.fontSize = 9;
            label_1.fill = am4core.color("#454A4D");
            label_1.align = "justify";
            //axisTitle.paddingRight = 30;
            label_1.paddingBottom = 10;
            label_1.paddingTop = 25;

            daySlider.events.on("rangechanged", function () {
                updateRadarData(startDay + Math.round(daySlider.start * (endDay - startDay)));
                setTime();

            });

            daySlider.orientation = "horizontal";
            daySlider.start = 0;
            daySlider.exportable = false;

            daySlider.startGrip.events.on("drag", function () {
                stop();
                sliderAnimation.setProgress(daySlider.start);
            });

            sliderAnimation = daySlider.animate({ property: "start", to: 1 }, 8000, am4core.ease.linear).pause();
            sliderAnimation.events.on("animationended", function () {
                playButton.isActive = false;
            })
        }


        var sliderAnimation;

        function play() {
            if (daySlider) {
                if (daySlider.start >= 1) {
                    daySlider.start = 0;
                    sliderAnimation.start();
                }
                sliderAnimation.resume();
                playButton.isActive = true;
            }
        }

        function stop() {
            sliderAnimation.pause();
            playButton.isActive = false;
        }

        setTimeout(function () {
            play()
        }, 2000);

        chart.data = generateRadarData();


        function generateRadarData() {
          var data = [];
          var i = 0;
          for (var regioni in ritardi) {
              var regioniData = ritardi[regioni];

              regioniData.forEach(function (provincia) {
                  var rawDataItem = { "provincia": provincia[0] }

                  for (var y = 2; y < provincia.length; y++) {
                      rawDataItem["value" + (startDay + y - 2)] = provincia[y];
                  }

                  data.push(rawDataItem);
              });

              createRange(regioni, regioniData, i);
              i++;

          }
          return data;
        }


        function updateRadarData(year) {
          if (currentDay != year) {
              currentDay = year;
              dayLabel.text = String(currentDay) + " Gennaio 2019";
              series.dataFields.valueY = "value" + currentDay;
              chart.invalidateRawData();
          }
        }

        function createRange(name, regioniData, index) {

          var axisRange = categoryAxis.axisRanges.create();
          axisRange.axisFill.interactionsEnabled = true;
          axisRange.text = name[0] + name[1] + name[2];
          axisRange.height = 20;
          // first provincia
          axisRange.category = regioniData[0][0];
          // last provincia
          axisRange.endCategory = regioniData[regioniData.length - 1][0];

          // every 3rd color for a bigger contrast
          //axisRange.axisFill.fill = colorSet.getIndex(index * 3);
          axisRange.grid.disabled = true;
          axisRange.label.interactionsEnabled = false;
          axisRange.label.bent = true;

          axisRange.axisFill.stroke = am4core.color("#ffffff");
          axisRange.axisFill.fill = am4core.color("#839fbb");


          var axisFill = axisRange.axisFill;
          axisFill.innerRadius = -0.001; // almost the same as 100%, we set it in pixels as later we animate this property to some pixel value
          axisFill.radius = -20; // negative radius means it is calculated from max radius
          axisFill.disabled = false; // as regular fills are disabled, we need to enable this one
          axisFill.fillOpacity = 1;
          axisFill.togglable = true;

          axisFill.showSystemTooltip = true;
          axisFill.readerTitle = "clicca per visuaizzare la regione:\n" + name;
          axisFill.cursorOverStyle = am4core.MouseCursorStyle.pointer;

          axisFill.events.on("hit", function (event) {
              var dataItem = event.target.dataItem;
              if (!event.target.isActive) {
                  axisRange.text = name[0] + name[1] + name[2];
                  categoryAxisRenderer.fontSize = 8;
                  categoryAxisLabel.relativeRotation = 90;
                  categoryAxis.zoom({ start: 0, end: 1 });

              }
              else {
                  axisRange.text = name;
                  categoryAxisRenderer.fontSize = 12;
                  categoryAxisLabel.relativeRotation = 0;
                  categoryAxis.zoomToCategories(dataItem.category, dataItem.endCategory);
              }
          })

          // hover state
          var hoverState = axisFill.states.create("hover");
          hoverState.properties.innerRadius = -10;
          hoverState.properties.radius = -25;

          var axisLabel = axisRange.label;
          axisLabel.location = 0.5;
          axisLabel.fill = am4core.color("#ffffff");
          axisLabel.radius = 3;
          axisLabel.relativeRotation = 0;
          axisLabel.fontSize = 12;
        }



    </script>
  </div>

</body>
</html>
